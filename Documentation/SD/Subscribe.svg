<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1929" height="1373"><desc>title%20Subscribe%0A%0Aparticipant%20Client%0Aparticipant%20SocketServer%0Aparticipant%20MqttService%0Aparticipant%20IProtocolHandler%0Aparticipant%20SubscribeManager%0Aparticipant%20SubscribeConverter%0Aparticipant%20SubscribeValidator%0Aparticipant%20RuleEngine%0Aparticipant%20Rule%0A%0AClient-%3ESocketServer%3A%20Sends%20data%0A%0ASocketServer-%3EMqttService%3A%20Identifies%20data%20as%20connect%0A%0A%0AMqttService-%3EIProtocolHandler%3A%20Calls%20OnSubscribe%20method%0A%0AIProtocolHandler-%3ESubscribeManager%3A%20Convert%20subscribe%20data%0A%0ASubscribeManager-%3ESubscribeConverter%3A%20Converts%20data%20to%20connect%20package%0ASubscribeConverter--%3E%3ESubscribeManager%3A%20Returns%20converted%20data%0ASubscribeManager--%3E%3EIProtocolHandler%3A%20Returns%20converted%20data%0A%0AIProtocolHandler-%3ESubscribeManager%3A%20Calls%20validate%20package%20and%20client%0ASubscribeManager-%3ESubscribeValidator%3A%20Validates%20client%20state%20and%20package%20data%0A%0ASubscribeValidator-%3ERuleEngine%3A%20Sets%20the%20required%20rules%20and%20runs%20validation%0A%0Aloop%20i%20%3C%20rulesSize%0ARule--%3E%3ERuleEngine%3A%20Return%20valid%20state%0Aend%0ARuleEngine--%3E%3ESubscribeValidator%3A%20Returns%20validation%20for%20rules.%0A%0ASubscribeValidator--%3E%3ESubscribeManager%3A%20Returns%20the%20action%20to%20take%0A%0ASubscribeManager--%3E%3EIProtocolHandler%3A%20Return%20action%0A%0Aalt%20Disconnect%0AIProtocolHandler-%3ESocketServer%3A%20Calls%20Disconnect%20user%0ASocketServer-%3EClient%3A%20Disconnects%0Aend%0A%0Aalt%20Subscribed%0AIProtocolHandler-%3ESubscribeManager%3ACreate%20topic%20if%20not%20exists%0AIProtocolHandler-%3ESubscribeManager%3A%20Add%20subscriber%20to%20to%20topic%0AIProtocolHandler-%3ESubscribeManager%3A%20Generate%20subscribe%20acknowledgement%0ASubscribeManager--%3E%3EIProtocolHandler%3A%20Return%20generated%20message%0AIProtocolHandler--%3E%3ESocketServer%3A%20Calls%20send%20to%20client%20method%20with%20generated%20message%0ASocketServer--%3E%3EClient%3A%20Send%20message%0Aend</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1929" height="1373"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="915.7259360242175" y="24.50280495" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Subscribe</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 73.50841485 95.887643371 L 73.50841485 1373.3005414309998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 214.86419929290366 95.887643371 L 214.86419929290366 1373.3005414309998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 424.6809364945964 95.887643371 L 424.6809364945964 1373.3005414309998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 642.615074819336 95.887643371 L 642.615074819336 1373.3005414309998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 936.3544804780599 95.887643371 L 936.3544804780599 1373.3005414309998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1202.398833036198 95.887643371 L 1202.398833036198 1373.3005414309998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1379.9401250069636 95.887643371 L 1379.9401250069636 1373.3005414309998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1698.1318927262346 95.887643371 L 1698.1318927262346 1373.3005414309998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1855.772558760935 95.887643371 L 1855.772558760935 1373.3005414309998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 37.04456881783983 51.782594461 L 109.97226088216016 51.782594461 L 109.97226088216016 95.887643371 L 37.04456881783983 95.887643371 L 37.04456881783983 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="54.76826439833984" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 153.14267808984505 51.782594461 L 276.5857204959623 51.782594461 L 276.5857204959623 95.887643371 L 153.14267808984505 95.887643371 L 153.14267808984505 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="170.86637367034507" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SocketServer</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 368.2600515830417 51.782594461 L 481.1018214061511 51.782594461 L 481.1018214061511 95.887643371 L 368.2600515830417 95.887643371 L 368.2600515830417 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="385.9837471635417" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">MqttService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 570.2958439605156 51.782594461 L 714.9343056781563 51.782594461 L 714.9343056781563 95.887643371 L 570.2958439605156 95.887643371 L 570.2958439605156 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="588.0195395410157" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">IProtocolHandler</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 857.1061190650404 51.782594461 L 1015.6028418910795 51.782594461 L 1015.6028418910795 95.887643371 L 857.1061190650404 95.887643371 L 857.1061190650404 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="874.8298146455404" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SubscribeManager</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1119.8970765426122 51.782594461 L 1284.9005895297842 51.782594461 L 1284.9005895297842 95.887643371 L 1119.8970765426122 95.887643371 L 1119.8970765426122 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1137.6207721231121" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SubscribeConverter</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1301.235792829784 51.782594461 L 1458.6444571841434 51.782594461 L 1458.6444571841434 95.887643371 L 1301.235792829784 95.887643371 L 1301.235792829784 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1318.959488410284" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SubscribeValidator</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1642.5091416647776 51.782594461 L 1753.7546437876917 51.782594461 L 1753.7546437876917 95.887643371 L 1642.5091416647776 95.887643371 L 1642.5091416647776 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1660.2328372452776" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RuleEngine</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1822.9737060149077 51.782594461 L 1888.5714115069625 51.782594461 L 1888.5714115069625 95.887643371 L 1822.9737060149077 95.887643371 L 1822.9737060149077 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1840.6974015954077" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Rule</text></g></g><g><g><g><rect fill="white" stroke="none" x="104.64942531912762" y="128.558049971" width="79.07376350464844" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="107.09970581412762" y="143.259732941" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sends data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 73.50841485 149.793814261 L 201.414881909237 149.793814261" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(214.86419929290366,149.793814261) translate(-214.86419929290366,-149.793814261)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 201.251529876237 142.98747955266666 L 214.86419929290366 149.793814261 L 201.251529876237 156.60014896933333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="234.19418986457035" y="174.296619211" width="171.15675605835938" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="236.64447035957033" y="188.99830218099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Identifies data as connect</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 214.86419929290366 195.532383501 L 411.2316191109297 195.532383501" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(424.6809364945964,195.532383501) translate(-424.6809364945964,-195.532383501)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 411.0682670779297 188.72604879266666 L 424.6809364945964 195.532383501 L 411.0682670779297 202.33871820933334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="444.0109270662631" y="220.035188451" width="179.27415718140625" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="446.4612075612631" y="234.736871421" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Calls OnSubscribe method</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 424.6809364945964 241.270952741 L 629.1657574356693 241.270952741" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(642.615074819336,241.270952741) translate(-642.615074819336,-241.270952741)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 629.0024054026693 234.46461803266666 L 642.615074819336 241.270952741 L 629.0024054026693 248.07728744933334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="711.6587265848502" y="265.77375769099996" width="155.65210212769531" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="714.1090070798502" y="280.47544066099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Convert subscribe data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 642.615074819336 287.009521981 L 922.9051630943933 287.009521981" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(936.3544804780599,287.009521981) translate(-936.3544804780599,-287.009521981)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 922.7418110613933 280.20318727266664 L 936.3544804780599 287.009521981 L 922.7418110613933 293.8158566893333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="955.6844710497267" y="311.51232693099996" width="227.3843714148047" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="958.1347515447267" y="326.21400990099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Converts data to connect package</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 936.3544804780599 332.748091221 L 1188.9495156525313 332.748091221" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1202.398833036198,332.748091221) translate(-1202.398833036198,-332.748091221)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1188.7861636195314 325.94175651266664 L 1202.398833036198 332.748091221 L 1188.7861636195314 339.5544259293333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="990.7309874681837" y="357.25089617099997" width="157.29133857789063" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="993.1812679631837" y="371.95257914099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Returns converted data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1202.398833036198 378.486660461 L 938.39638089056 378.486660461" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(936.3544804780599,378.486660461) translate(-936.3544804780599,-378.486660461)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 950.3497248611139 372.2432629753765 L 937.8847803436095 378.486660461 L 950.3497248611139 384.73005794662345" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="710.8391083597526" y="402.98946541099997" width="157.29133857789063" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="713.2893888547526" y="417.69114838099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Returns converted data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 936.3544804780599 424.225229701 L 644.656975231836 424.225229701" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(642.615074819336,424.225229701) translate(-642.615074819336,-424.225229701)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 656.61031920239 417.9818322153765 L 644.1453746848855 424.225229701 L 656.61031920239 430.46862718662345" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="680.2772110819205" y="448.728034651" width="218.4151331335547" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="682.7274915769206" y="463.42971762099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Calls validate package and client</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 642.615074819336 469.963798941 L 922.9051630943933 469.963798941" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(936.3544804780599,469.963798941) translate(-936.3544804780599,-469.963798941)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 922.7418110613933 463.15746423266665 L 936.3544804780599 469.963798941 L 922.7418110613933 476.77013364933333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1028.6927803041524" y="494.466603891" width="258.9090448767187" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1031.1430607991524" y="509.16828686099996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Validates client state and package data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 936.3544804780599 515.702368181 L 1366.4908076232969 515.702368181" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1379.9401250069636,515.702368181) translate(-1379.9401250069636,-515.702368181)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1366.327455590297 508.89603347266666 L 1379.9401250069636 515.702368181 L 1366.327455590297 522.5087028893333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1399.2701155786303" y="540.2051731309999" width="279.5317865759375" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1401.7203960736304" y="554.9068561009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sets the required rules and runs validation</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1379.9401250069636 561.440937421 L 1684.6825753425678 561.440937421" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1698.1318927262346,561.440937421) translate(-1698.1318927262346,-561.440937421)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1684.519223309568 554.6346027126666 L 1698.1318927262346 561.440937421 L 1684.519223309568 568.2472721293333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1717.461883297901" y="630.0487912809999" width="118.98068489136719" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1719.912163792901" y="644.7504742509999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return valid state</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1855.772558760935 651.2845555709999 L 1700.1737931387345 651.2845555709999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(1698.1318927262346,651.2845555709999) translate(-1698.1318927262346,-651.2845555709999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1712.1271371092887 645.0411580853765 L 1699.662192591784 651.2845555709999 L 1712.1271371092887 657.5279530566233" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="1447.362438881853" y="700.2901654709999" width="183.3471399694922" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1449.812719376853" y="714.9918484409999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Returns validation for rules.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1698.1318927262346 721.5259297609999 L 1381.9820254194635 721.5259297609999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(1379.9401250069636,721.5259297609999) translate(-1379.9401250069636,-721.5259297609999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1393.9353693900177 715.2825322753765 L 1381.4704248725131 721.5259297609999 L 1393.9353693900177 727.7693272466233" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="1072.1680610658711" y="746.0287347109999" width="171.95848335328125" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1074.6183415608712" y="760.7304176809998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Returns the action to take</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1379.9401250069636 767.2644990009999 L 938.39638089056 767.2644990009999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(936.3544804780599,767.2644990009999) translate(-936.3544804780599,-767.2644990009999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 950.3497248611139 761.0211015153765 L 937.8847803436095 767.2644990009999 L 950.3497248611139 773.5078964866233" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="743.4375199198112" y="791.7673039509998" width="92.09451545777344" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="745.8878004148112" y="806.4689869209998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return action</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 936.3544804780599 813.0030682409998 L 644.656975231836 813.0030682409998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(642.615074819336,813.0030682409998) translate(-642.615074819336,-813.0030682409998)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 656.61031920239 806.7596707553764 L 644.1453746848855 813.0030682409998 L 656.61031920239 819.2464657266232" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="355.4053538755729" y="881.6109221009997" width="146.66856636109375" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="357.85563437057294" y="896.3126050709997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Calls Disconnect user</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 642.615074819336 902.8466863909997 L 228.31351667657032 902.8466863909997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(214.86419929290366,902.8466863909997) translate(-214.86419929290366,-902.8466863909997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 228.47686870957034 896.0403516826664 L 214.86419929290366 902.8466863909997 L 228.47686870957034 909.653021099333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="101.81120663016277" y="927.3494913409996" width="84.75020088257813" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="104.26148712516277" y="942.0511743109996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Disconnects</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 214.86419929290366 948.5852556309997 L 86.95773223366666 948.5852556309997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(73.50841485,948.5852556309997) translate(-73.50841485,-948.5852556309997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 87.12108426666666 941.7789209226663 L 73.50841485 948.5852556309997 L 87.12108426666666 955.391590339333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="708.8133438944205" y="1041.6959144409998" width="161.3428675085547" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="711.2636243894206" y="1056.3975974109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Create topic if not exists</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 642.615074819336 1062.9316787309997 L 922.9051630943933 1062.9316787309997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(936.3544804780599,1062.9316787309997) translate(-936.3544804780599,-1062.9316787309997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 922.7418110613933 1056.1253440226665 L 936.3544804780599 1062.9316787309997 L 922.7418110613933 1069.738013439333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="704.3251618265494" y="1087.4344836809998" width="170.31923164429688" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="706.7754423215495" y="1102.136166651" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Add subscriber to to topic</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 642.615074819336 1108.6702479709998 L 922.9051630943933 1108.6702479709998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(936.3544804780599,1108.6702479709998) translate(-936.3544804780599,-1108.6702479709998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 922.7418110613933 1101.8639132626665 L 936.3544804780599 1108.6702479709998 L 922.7418110613933 1115.476582679333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="661.9450653910026" y="1133.173052921" width="255.07942451539063" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="664.3953458860026" y="1147.874735891" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Generate subscribe acknowledgement</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 642.615074819336 1154.4088172109998 L 922.9051630943933 1154.4088172109998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(936.3544804780599,1154.4088172109998) translate(-936.3544804780599,-1154.4088172109998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 922.7418110613933 1147.6024825026666 L 936.3544804780599 1154.4088172109998 L 922.7418110613933 1161.215151919333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="698.2048920511588" y="1178.911622161" width="182.55977119507813" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="700.6551725461588" y="1193.613305131" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return generated message</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 936.3544804780599 1200.1473864509999 L 644.656975231836 1200.1473864509999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(642.615074819336,1200.1473864509999) translate(-642.615074819336,-1200.1473864509999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 656.61031920239 1193.9039889653766 L 644.1453746848855 1200.1473864509999 L 656.61031920239 1206.3907839366232" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="256.38248095076824" y="1224.650191401" width="344.7143122107031" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="258.83276144576826" y="1239.3518743710001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Calls send to client method with generated message</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 642.615074819336 1245.885955691 L 216.90609970540368 1245.885955691" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(214.86419929290366,1245.885955691) translate(-214.86419929290366,-1245.885955691)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 228.85944367595772 1239.6425582053766 L 216.39449915845313 1245.885955691 L 228.85944367595772 1252.1293531766232" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="92.83840542166668" y="1270.388760641" width="102.69580329957031" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="95.28868591666668" y="1285.0904436110002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Send message</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 214.86419929290366 1291.624524931 L 75.55031526249999 1291.624524931" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(73.50841485,1291.624524931) translate(-73.50841485,-1291.624524931)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 87.50365923305402 1285.3811274453767 L 75.03871471554947 1291.624524931 L 87.50365923305402 1297.8679224166233" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1640.9586811762347 585.943742371 L 1912.945770310935 585.943742371 L 1912.945770310935 675.787360521 L 1640.9586811762347 675.787360521 L 1640.9586811762347 585.943742371 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1640.9586811762347 585.943742371 L 1640.9586811762347 605.545986331 L 1698.3834823074847 605.545986331 L 1708.1846042874847 595.7448643509999 L 1708.1846042874847 585.943742371 L 1640.9586811762347 585.943742371" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1657.2938844762348" y="599.011905011" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="1722.0695270924848" y="587.250558635" width="80.84759773316406" height="16.988611432000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1724.5198075874848" y="599.011905011" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[i &lt; rulesSize]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 16.335203299999996 837.5058731909998 L 699.788286369336 837.5058731909998 L 699.788286369336 973.0880605809997 L 16.335203299999996 973.0880605809997 L 16.335203299999996 837.5058731909998 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 16.335203299999996 837.5058731909998 L 16.335203299999996 857.1081171509998 L 62.69440689707031 857.1081171509998 L 72.49552887707031 847.3069951709997 L 72.49552887707031 837.5058731909998 L 16.335203299999996 837.5058731909998" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="32.67040659999999" y="850.5740358309997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="86.38045168207032" y="838.8126894549997" width="75.93916572632813" height="16.988611432000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="88.83073217707032" y="850.5740358309997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Disconnect]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 16.335203299999996 997.5908655309996 L 993.52769202806 997.5908655309996 L 993.52769202806 1316.127329881 L 16.335203299999996 1316.127329881 L 16.335203299999996 997.5908655309996 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 16.335203299999996 997.5908655309996 L 16.335203299999996 1017.1931094909996 L 62.69440689707031 1017.1931094909996 L 72.49552887707031 1007.3919875109996 L 72.49552887707031 997.5908655309996 L 16.335203299999996 997.5908655309996" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="32.67040659999999" y="1010.6590281709996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="86.38045168207032" y="998.8976817949996" width="76.5920893103125" height="16.988611432000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="88.83073217707032" y="1010.6590281709996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Subscribed]</text></g></g><g/><g/><g/><g/><g/><g/><g/><g/><g/></g></svg>