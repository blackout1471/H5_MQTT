<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1797" height="1464"><desc>title%20Publish%0A%0A%0Aparticipant%20Client%0Aparticipant%20SocketServer%0Aparticipant%20MqttService%0Aparticipant%20IProtocolHandler%0Aparticipant%20MqttManager%0Aparticipant%20PublishConverter%0Aparticipant%20PublishValidator%0Aparticipant%20RuleEngine%0Aparticipant%20Rule%0A%0AClient-%3ESocketServer%3A%20Sends%20data%0A%0ASocketServer-%3EMqttService%3A%20Identifies%20data%20as%20publis%0A%0A%0AMqttService-%3EIProtocolHandler%3A%20Calls%20OnPublish%20method%0A%0AIProtocolHandler-%3EPublishConverter%3A%20Converts%20data%20to%20publish%20package%0APublishConverter--%3E%3EIProtocolHandler%3A%20Returns%20converted%20data%0A%0AIProtocolHandler-%3EPublishValidator%3A%20Validates%20client%20state%20and%20package%20data%0A%0APublishValidator-%3ERuleEngine%3A%20Sets%20the%20required%20rules%20and%20runs%20validation%0A%0Aloop%20i%20%3C%20rulesSize%0ARule--%3E%3ERuleEngine%3A%20Return%20valid%20state%0Aend%0ARuleEngine--%3E%3EPublishValidator%3A%20Returns%20validation%20for%20rules.%0A%0APublishValidator--%3E%3EIProtocolHandler%3A%20Returns%20the%20action%20to%20take%0A%0Aalt%20Disconnect%0AIProtocolHandler-%3ESocketServer%3A%20Calls%20Disconnect%20user%0ASocketServer-%3EClient%3A%20Disconnects%0Aend%0A%0Aalt%20Acknowledge%0AIProtocolHandler-%3EMqttManager%3A%20Generate%20response%20message%0AMqttManager--%3E%3EIProtocolHandler%3A%20return%20response%0AIProtocolHandler--%3E%3ESocketServer%3A%20Calls%20send%20to%20client%20method%20with%20generated%20message%0ASocketServer--%3E%3EClient%3A%20Send%20message%0Aloop%20i%20%3C%20subscribedClients%0ASocketServer--%3E%3EClient%3A%20Send%20publish%20to%20subscriber%0Aend%0Aend%0A%0Aalt%20Reject%0AIProtocolHandler-%3EMqttManager%3A%20Generate%20response%20message%0AMqttManager--%3E%3EIProtocolHandler%3A%20return%20response%0AIProtocolHandler--%3E%3ESocketServer%3A%20Calls%20send%20to%20client%20method%20with%20generated%20message%0ASocketServer--%3E%3EClient%3A%20Send%20message%0Aend</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1797" height="1464"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="862.6006179151992" y="24.50280495" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Publish</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 89.84361815 95.887643371 L 89.84361815 1464.7776799109997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 306.16713025403646 95.887643371 L 306.16713025403646 1464.7776799109997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 502.9416311276042 95.887643371 L 502.9416311276042 1464.7776799109997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 703.7676914494141 95.887643371 L 703.7676914494141 1464.7776799109997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 936.3904436657552 95.887643371 L 936.3904436657552 1464.7776799109997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1087.5824466960912 95.887643371 L 1087.5824466960912 1464.7776799109997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1248.015660663927 95.887643371 L 1248.015660663927 1464.7776799109997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1566.207428383198 95.887643371 L 1566.207428383198 1464.7776799109997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1723.8480944178984 95.887643371 L 1723.8480944178984 1464.7776799109997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 53.379772117839835 51.782594461 L 126.30746418216016 51.782594461 L 126.30746418216016 95.887643371 L 53.379772117839835 95.887643371 L 53.379772117839835 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="71.10346769833984" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 244.44560905097785 51.782594461 L 367.8886514570951 51.782594461 L 367.8886514570951 95.887643371 L 244.44560905097785 95.887643371 L 244.44560905097785 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="262.16930463147787" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SocketServer</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 446.5207462160495 51.782594461 L 559.3625160391589 51.782594461 L 559.3625160391589 95.887643371 L 446.5207462160495 95.887643371 L 446.5207462160495 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="464.2444417965495" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">MqttService</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 631.4484605905938 51.782594461 L 776.0869223082344 51.782594461 L 776.0869223082344 95.887643371 L 631.4484605905938 95.887643371 L 631.4484605905938 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="649.1721561710938" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">IProtocolHandler</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 875.4813614275404 51.782594461 L 997.2995259039701 51.782594461 L 997.2995259039701 95.887643371 L 875.4813614275404 95.887643371 L 875.4813614275404 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="893.2050570080404" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">MqttManager</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1013.6347292039701 51.782594461 L 1161.5301641882122 51.782594461 L 1161.5301641882122 95.887643371 L 1013.6347292039701 95.887643371 L 1013.6347292039701 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1031.3584247844701" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">PublishConverter</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1177.8653674882123 51.782594461 L 1318.165953839642 51.782594461 L 1318.165953839642 95.887643371 L 1177.8653674882123 95.887643371 L 1177.8653674882123 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1195.5890630687122" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">PublishValidator</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1510.584677321741 51.782594461 L 1621.8301794446552 51.782594461 L 1621.8301794446552 95.887643371 L 1510.584677321741 95.887643371 L 1510.584677321741 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1528.308372902241" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">RuleEngine</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1691.0492416718712 51.782594461 L 1756.646947163926 51.782594461 L 1756.646947163926 95.887643371 L 1691.0492416718712 95.887643371 L 1691.0492416718712 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1708.772937252371" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Rule</text></g></g><g><g><g><rect fill="white" stroke="none" x="158.46849244969403" y="128.558049971" width="79.07376350464844" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="160.918772944694" y="143.259732941" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sends data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 89.84361815 149.793814261 L 292.7178128703698 149.793814261" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(306.16713025403646,149.793814261) translate(-306.16713025403646,-149.793814261)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 292.5544608373698 142.98747955266666 L 306.16713025403646 149.793814261 L 292.5544608373698 156.60014896933333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="325.4971208257031" y="174.296619211" width="158.11451973023438" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="327.94740132070314" y="188.99830218099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Identifies data as publis</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 306.16713025403646 195.532383501 L 489.49231374393753 195.532383501" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(502.9416311276042,195.532383501) translate(-502.9416311276042,-195.532383501)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 489.3289617109375 188.72604879266666 L 502.9416311276042 195.532383501 L 489.3289617109375 202.33871820933334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="522.2716216992708" y="220.035188451" width="162.16607917847656" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="524.7219021942708" y="234.736871421" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Calls OnPublish method</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 502.9416311276042 241.270952741 L 690.3183740657474 241.270952741" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(703.7676914494141,241.270952741) translate(-703.7676914494141,-241.270952741)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 690.1550220327474 234.46461803266666 L 703.7676914494141 241.270952741 L 690.1550220327474 248.07728744933334 Z"/></g></g><g><g><rect fill="white" stroke="none" x="784.4274100377136" y="265.77375769099996" width="222.49531807007813" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="786.8776905327136" y="280.47544066099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Converts data to publish package</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 703.7676914494141 287.009521981 L 1074.1331293124244 287.009521981" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1087.5824466960912,287.009521981) translate(-1087.5824466960912,-287.009521981)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1073.9697772794245 280.20318727266664 L 1087.5824466960912 287.009521981 L 1073.9697772794245 293.8158566893333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="817.0293997838073" y="311.51232693099996" width="157.29133857789063" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="819.4796802788073" y="326.21400990099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Returns converted data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1087.5824466960912 332.748091221 L 705.8095918619141 332.748091221" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(703.7676914494141,332.748091221) translate(-703.7676914494141,-332.748091221)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 717.7629358324681 326.5046937353765 L 705.2979913149636 332.748091221 L 717.7629358324681 338.99148870662344" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="846.4371536183112" y="357.25089617099997" width="258.9090448767187" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="848.8874341133112" y="371.95257914099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Validates client state and package data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 703.7676914494141 378.486660461 L 1234.5663432802603 378.486660461" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1248.015660663927,378.486660461) translate(-1248.015660663927,-378.486660461)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1234.4029912472604 371.68032575266665 L 1248.015660663927 378.486660461 L 1234.4029912472604 385.2929951693333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1267.3456512355938" y="402.98946541099997" width="279.5317865759375" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1269.7959317305938" y="417.69114838099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sets the required rules and runs validation</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1248.015660663927 424.225229701 L 1552.7581109995313 424.225229701" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(1566.207428383198,424.225229701) translate(-1566.207428383198,-424.225229701)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 1552.5947589665313 417.41889499266665 L 1566.207428383198 424.225229701 L 1552.5947589665313 431.0315644093333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="1585.5374189548645" y="492.83308356099997" width="118.98068489136719" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1587.9876994498645" y="507.53476653099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return valid state</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1723.8480944178984 514.068847851 L 1568.249328795698 514.068847851" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(1566.207428383198,514.068847851) translate(-1566.207428383198,-514.068847851)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1580.2026727662521 507.8254503653765 L 1567.7377282487475 514.068847851 L 1580.2026727662521 520.3122453366234" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="1315.4379745388164" y="563.074457751" width="183.3471399694922" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1317.8882550338164" y="577.7761407209999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Returns validation for rules.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1566.207428383198 584.310222041 L 1250.057561076427 584.310222041" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(1248.015660663927,584.310222041) translate(-1248.015660663927,-584.310222041)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1262.0109050469812 578.0668245553766 L 1249.5459605294766 584.310222041 L 1262.0109050469812 590.5536195266234" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="889.9124343800299" y="608.8130269909999" width="171.95848335328125" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="892.36271487503" y="623.5147099609999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Returns the action to take</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1248.015660663927 630.0487912809999 L 705.8095918619141 630.0487912809999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(703.7676914494141,630.0487912809999) translate(-703.7676914494141,-630.0487912809999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 717.7629358324681 623.8053937953765 L 705.2979913149636 630.0487912809999 L 717.7629358324681 636.2921887666233" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="431.6331276711784" y="698.6566451409999" width="146.66856636109375" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="434.0834081661784" y="713.3583281109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Calls Disconnect user</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 703.7676914494141 719.8924094309999 L 319.6164476377031 719.8924094309999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(306.16713025403646,719.8924094309999) translate(-306.16713025403646,-719.8924094309999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 319.77979967070314 713.0860747226666 L 306.16713025403646 719.8924094309999 L 319.77979967070314 726.6987441393333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="155.63027376072918" y="744.3952143809998" width="84.75020088257813" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="158.08055425572917" y="759.0968973509998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Disconnects</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 306.16713025403646 765.6309786709999 L 103.29293553366666 765.6309786709999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(89.84361815,765.6309786709999) translate(-89.84361815,-765.6309786709999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 103.45628756666666 758.8246439626665 L 89.84361815 765.6309786709999 L 103.45628756666666 772.4373133793332 Z"/></g></g><g><g><rect fill="white" stroke="none" x="723.0976820210808" y="858.7416374809998" width="193.96277107300781" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="725.5479625160808" y="873.4433204509997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Generate response message</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 703.7676914494141 879.9774017709998 L 922.9411262820886 879.9774017709998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(936.3904436657552,879.9774017709998) translate(-936.3904436657552,-879.9774017709998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 922.7777742490886 873.1710670626665 L 936.3904436657552 879.9774017709998 L 922.7777742490886 886.7837364793331 Z"/></g></g><g><g><rect fill="white" stroke="none" x="766.2902326802605" y="904.4802067209997" width="107.57766975464844" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="768.7405131752605" y="919.1818896909997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">return response</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 936.3904436657552 925.7159710109997 L 705.8095918619141 925.7159710109997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(703.7676914494141,925.7159710109997) translate(-703.7676914494141,-925.7159710109997)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 717.7629358324681 919.4725735253763 L 705.2979913149636 925.7159710109997 L 717.7629358324681 931.9593684966231" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="332.6102547463737" y="950.2187759609997" width="344.7143122107031" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="335.0605352413737" y="964.9204589309996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Calls send to client method with generated message</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 703.7676914494141 971.4545402509997 L 308.2090306665365 971.4545402509997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(306.16713025403646,971.4545402509997) translate(-306.16713025403646,-971.4545402509997)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 320.1623746370905 965.2111427653763 L 307.69743011958593 971.4545402509997 L 320.1623746370905 977.6979377366231" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="146.6574725522331" y="995.9573452009996" width="102.69580329957031" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="149.10775304723307" y="1010.6590281709996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Send message</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 306.16713025403646 1017.1931094909996 L 91.8855185625 1017.1931094909996" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(89.84361815,1017.1931094909996) translate(-89.84361815,-1017.1931094909996)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 103.83886253305403 1010.9497120053762 L 91.37391801554948 1017.1931094909996 L 103.83886253305403 1023.436506976623" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="109.17360872166667" y="1085.8009633509998" width="177.66353096070313" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="111.62388921666667" y="1100.502646321" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Send publish to subscriber</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 306.16713025403646 1107.0367276409997 L 91.8855185625 1107.0367276409997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(89.84361815,1107.0367276409997) translate(-89.84361815,-1107.0367276409997)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 103.83886253305403 1100.7933301553765 L 91.37391801554948 1107.0367276409997 L 103.83886253305403 1113.280125126623" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="723.0976820210808" y="1224.6501914009998" width="193.96277107300781" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="725.5479625160808" y="1239.351874371" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Generate response message</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 703.7676914494141 1245.8859556909997 L 922.9411262820886 1245.8859556909997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(936.3904436657552,1245.8859556909997) translate(-936.3904436657552,-1245.8859556909997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 922.7777742490886 1239.0796209826665 L 936.3904436657552 1245.8859556909997 L 922.7777742490886 1252.692290399333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="766.2902326802605" y="1270.3887606409999" width="107.57766975464844" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="768.7405131752605" y="1285.090443611" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">return response</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 936.3904436657552 1291.6245249309998 L 705.8095918619141 1291.6245249309998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(703.7676914494141,1291.6245249309998) translate(-703.7676914494141,-1291.6245249309998)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 717.7629358324681 1285.3811274453765 L 705.2979913149636 1291.6245249309998 L 717.7629358324681 1297.867922416623" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="332.6102547463737" y="1316.127329881" width="344.7143122107031" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="335.0605352413737" y="1330.829012851" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Calls send to client method with generated message</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 703.7676914494141 1337.3630941709998 L 308.2090306665365 1337.3630941709998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(306.16713025403646,1337.3630941709998) translate(-306.16713025403646,-1337.3630941709998)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 320.1623746370905 1331.1196966853765 L 307.69743011958593 1337.3630941709998 L 320.1623746370905 1343.6064916566231" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g><rect fill="white" stroke="none" x="146.6574725522331" y="1361.865899121" width="102.69580329957031" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="149.10775304723307" y="1376.567582091" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Send message</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 306.16713025403646 1383.101663411 L 91.8855185625 1383.101663411" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(89.84361815,1383.101663411) translate(-89.84361815,-1383.101663411)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 103.83886253305403 1376.8582659253766 L 91.37391801554948 1383.101663411 L 103.83886253305403 1389.3450608966232" stroke-miterlimit="10" stroke-width="1.3612669416666667"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1509.0342168331981 448.728034651 L 1781.0213059678983 448.728034651 L 1781.0213059678983 538.571652801 L 1509.0342168331981 538.571652801 L 1509.0342168331981 448.728034651 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1509.0342168331981 448.728034651 L 1509.0342168331981 468.330278611 L 1566.459017964448 468.330278611 L 1576.2601399444482 458.529156631 L 1576.2601399444482 448.728034651 L 1509.0342168331981 448.728034651" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1525.3694201331982" y="461.796197291" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="1590.1450627494482" y="450.034850915" width="80.84759773316406" height="16.988611432000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="1592.5953432444483" y="461.796197291" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[i &lt; rulesSize]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 32.6704066 654.551596231 L 760.9409029994141 654.551596231 L 760.9409029994141 790.1337836209999 L 32.6704066 790.1337836209999 L 32.6704066 654.551596231 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 32.6704066 654.551596231 L 32.6704066 674.153840191 L 79.02961019707031 674.153840191 L 88.83073217707032 664.3527182109999 L 88.83073217707032 654.551596231 L 32.6704066 654.551596231" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="49.005609899999996" y="667.6197588709999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="102.71565498207032" y="655.8584124949999" width="75.93916572632813" height="16.988611432000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="105.16593547707032" y="667.6197588709999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Disconnect]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 16.335203300000003 814.6365885709998 L 993.5636552157553 814.6365885709998 L 993.5636552157553 1156.0423375409996 L 16.335203300000003 1156.0423375409996 L 16.335203300000003 814.6365885709998 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 16.335203300000003 814.6365885709998 L 16.335203300000003 834.2388325309998 L 62.694406897070316 834.2388325309998 L 72.49552887707031 824.4377105509998 L 72.49552887707031 814.6365885709998 L 16.335203300000003 814.6365885709998" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="32.67040660000001" y="827.7047512109998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="86.38045168207032" y="815.9434048349998" width="88.32210029664063" height="16.988611432000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="88.83073217707032" y="827.7047512109998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Acknowledge]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 32.6704066 1041.6959144409998 L 363.3403418040365 1041.6959144409998 L 363.3403418040365 1131.5395325909997 L 32.6704066 1131.5395325909997 L 32.6704066 1041.6959144409998 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 32.6704066 1041.6959144409998 L 32.6704066 1061.2981584009997 L 90.09520773125 1061.2981584009997 L 99.89632971125 1051.4970364209998 L 99.89632971125 1041.6959144409998 L 32.6704066 1041.6959144409998" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="49.005609899999996" y="1054.7640770809996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="113.78125251625" y="1043.0027307049997" width="131.0265375525" height="16.988611432000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="116.23153301125001" y="1054.7640770809996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[i &lt; subscribedClients]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 32.6704066 1180.5451424909998 L 993.5636552157553 1180.5451424909998 L 993.5636552157553 1407.6044683609998 L 32.6704066 1407.6044683609998 L 32.6704066 1180.5451424909998 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 32.6704066 1180.5451424909998 L 32.6704066 1200.1473864509996 L 79.02961019707031 1200.1473864509996 L 88.83073217707032 1190.3462644709998 L 88.83073217707032 1180.5451424909998 L 32.6704066 1180.5451424909998" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="49.005609899999996" y="1193.6133051309996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="102.71565498207032" y="1181.8519587549997" width="47.92006172242188" height="16.988611432000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="105.16593547707032" y="1193.6133051309996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Reject]</text></g></g><g/><g/><g/><g/><g/><g/><g/><g/><g/></g></svg>